<!DOCTYPE html>
<html>
    <head>
        <title>
            Rock Paper Scissors
        </title>
    </head>
    <body>
        <script>
            function computerPlay() {
                let computerResult = Math.floor(Math.random() * 3);

                switch (computerResult) {
                    case 0:
                        return 'rock';
                        break;

                    case 1:
                        return 'paper';
                        break;

                    case 2:
                        return 'scissors';
                        break;
                }
            }


            function playRound(playerSelection,computerSelection) {
                playerSelection = playerSelection.toLowerCase();

                if(computerSelection == playerSelection) {
                    return "It's a tie!";
                }

                switch (playerSelection) {
                    case 'rock':
                        if(computerSelection == 'scissors') {
                            return 'You win! Rock beats scissors!';
                        }
                        if(computerSelection == 'paper') {
                            return 'You lose! Paper beats rock!';
                        }
                        break;

                    case 'paper':
                        if(computerSelection =='rock') {
                            return 'You win! Paper beats rock!';
                        }
                        if(computerSelection == 'scissors') {
                            return 'You lose! Scissors beats paper!';
                        }
                        break;

                    case 'scissors':
                        if(computerSelection == 'rock') {
                            return 'You lose! Rock beats scissors!';
                        }
                        if(computerSelection == 'paper') {
                            return 'You win! Scissors beats paper!';
                        }
                        break;
                }
            }

            function game() {
                let playerScore = 0;
                let computerScore = 0;

                for(let i = 0; i < 5; i++) {
                    let playerSelection = prompt('Make your move.');
                    let computerSelection = computerPlay();
                    let result = playRound(playerSelection,computerSelection);
                    console.log(result);
                    if(result.slice(0, 5) == "You w") {
                        playerScore++;
                    } else if(result.slice(0, 5) == "You l") {
                        computerScore++;
                    }
                }
                
                if(computerScore == playerScore) {
                    console.log('Nobody wins!')
                } else if(computerScore > playerScore) {
                    console.log('The computer wins!')
                } else if(computerScore < playerScore) {
                    console.log('You win!')
                }

            }
        </script>
    </body>
</html>